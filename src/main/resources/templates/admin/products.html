<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"

   th:replace="~{base :: Layout(~{::section})}">
<head>
    <title>Index Page</title>
	
</head>
<body>
<section>
	
	<div class="container p-2">
		<div class="row">  
			<div class="col-md-11">       
		<div class="card card-sh">
				<div class="card-header text-center">
					<p class="fs-4">View Product</p>
					<!-- Success Message -->
														<th:block th:if="${session.successMsg}">
															<p class="text-success fw-bold">[[${session.successMsg}]]</p>
															<!-- Clear the session message after display -->
															<th:block th:text="${@commonserviceimpl.removeSessionMsg()}"></th:block>
														</th:block>
														<!-- Error Message -->
														<th:block th:if="${session.errorMsg}">
															<p class="text-danger fw-bold">[[${session.errorMsg}]]</p>
															<!-- Clear the session message after display -->
															<th:block th:text="${@commonserviceimpl.removeSessionMsg()}"></th:block>
														</th:block>
				</div>
				<div class="card-body">
					<table class="table">
					  <thead>
					    <tr>
					      <th scope="col">SI NO</th>
						  <th scope="col">Image</th>
					      <th scope="col">Title</th>
					      <th scope="col">Category</th>
					      <th scope="col">price</th>
						  <th scope="col">Stock</th>
						  <th scope="col">Action</th>
					    </tr>
					  </thead>
					  <tbody>
					   <tr th:each="p,c:${products}">
					    <th scope="row">[[${c.count}]]</th>
					      <td><img th:src="@{'/img/productimage' +${p.image}}" width="50px" height="80px"</td>
					      <td>[[${p.title}]]</td>
					      <td>[[${p.Category}]]</td>
						  <td>[[${p.price}]]</td>
						  <td>[[${p.Stock}]]</td>
						  <td>
							<a href="#" class="btn btn-sm btn-dark"><i class="fa-solid fa-pen-to-square"></i></a>
							<a th:href="@{'/admin/deleteProduct/'+${p.id}}" class="btn btn-sm btn-dark"><i class="fa-solid fa-trash"></i></a>
						  </td>
					    </tr>
					  </tbody>
					</table>
				</div>
			</div>
			</div>
		</div>	
	</div>
	

</section>
</body>	